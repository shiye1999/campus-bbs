{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CommonHeader from '../../src/components/CommonHeader.vue';\nimport CommonAside from '../../src/components/CommonAside.vue';\nexport default {\n  name: 'viewHome',\n  components: {\n    CommonAside: CommonAside,\n    CommonHeader: CommonHeader\n  },\n  data: function data() {\n    return {\n      postListData: [],\n      userListData: [],\n      commentListData: [],\n      total: 0,\n      pageNum: 1,\n      pageSize: 8\n    };\n  },\n  methods: {\n    getSection: function getSection(sectionName) {\n      var _this = this;\n\n      this.request.get(\"/section/\" + sectionName).then(function (res) {\n        localStorage.setItem('section', JSON.stringify(res.data));\n\n        _this.request.get(\"/post/page\", {\n          params: {\n            // pageNum:this.pageNum,\n            // pageSize:this.pageSize,\n            sectionId: JSON.parse(localStorage.getItem(\"section\")).id\n          }\n        }).then(function (res) {\n          _this.postListData = [];\n\n          for (var i = 0; i < res.data.postList.length; i++) {\n            _this.postListData.push(res.data.postList[i]);\n\n            _this.postListData[i].creatorName = res.data.userList[i].username;\n          } // this.postListData = res.data.postList\n          // this.userListData = res.data.userList\n\n\n          _this.total = res.data.total;\n        });\n      });\n      this.postListData.forEach(function (element) {\n        _this.request.get(\"/user/\" + element.creatorId).then(function (res) {\n          element.creatorName = res.data.username;\n        });\n      });\n    },\n    getResult: function getResult(postName) {}\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACAA,kBADA;AAEAC;AACAC,4BADA;AAEAC;AAFA,GAFA;AAOAC,MAPA,kBAOA;AACA;AACAC,sBADA;AAEAC,sBAFA;AAGAC,yBAHA;AAIAC,cAJA;AAKAC,gBALA;AAMAC;AANA;AAQA,GAhBA;AAiBAC;AACAC,cADA,sBACAC,WADA,EACA;AAAA;;AACA,uDACA;AACAC;;AACA;AACAC;AACA;AACA;AACAC;AAHA;AADA,WAMAC,IANA,CAOA;AACA;;AACA;AACA;;AACA;AACA,WALA,CAMA;AACA;;;AACA;AACA,SAhBA;AAkBA,OArBA;AAuBA;AACA,6DACA;AACAC;AACA,SAHA;AAKA,OANA;AAOA,KAhCA;AAiCAC,aAjCA,qBAiCAC,QAjCA,EAiCA,CAEA;AAnCA;AAjBA","names":["name","components","CommonAside","CommonHeader","data","postListData","userListData","commentListData","total","pageNum","pageSize","methods","getSection","sectionName","localStorage","params","sectionId","then","element","getResult","postName"],"sourceRoot":"views/Home","sources":["index.vue"],"sourcesContent":["<template>\r\n    <el-container style=\"height:100%\">\r\n        <el-header>\r\n            <common-header @refreshSearch=\"getResult($event)\"></common-header>\r\n        </el-header>\r\n        <el-container>\r\n            <el-aside width=\"200px\">\r\n                <common-aside @refreshSection=\"getSection($event)\"></common-aside>\r\n            </el-aside>\r\n            <el-main>\r\n                <router-view \r\n                :postListData=\"postListData\" \r\n                :commentListData=\"commentListData\" \r\n                :userListData=\"userListData\"\r\n                @refreshSearch=\"getResult($event)\">\r\n                </router-view>\r\n            </el-main>\r\n        </el-container>\r\n    </el-container>\r\n</template>\r\n<script>\r\n    import CommonHeader from '../../src/components/CommonHeader.vue'\r\n    import CommonAside from '../../src/components/CommonAside.vue'\r\n    export default {\r\n        name: 'viewHome',\r\n        components: {\r\n            CommonAside,\r\n            CommonHeader,\r\n        },\r\n        \r\n        data() {\r\n            return {\r\n                postListData: [],\r\n                userListData : [],\r\n                commentListData:[],\r\n                total: 0,\r\n                pageNum: 1,\r\n                pageSize: 8,\r\n            }\r\n        },\r\n        methods:{\r\n            getSection(sectionName){\r\n                this.request.get(\"/section/\" + sectionName).then(\r\n                    res =>{\r\n                        localStorage.setItem('section',JSON.stringify(res.data))\r\n                        this.request.get(\"/post/page\",{\r\n                            params:{\r\n                                // pageNum:this.pageNum,\r\n                                // pageSize:this.pageSize,\r\n                                sectionId:JSON.parse(localStorage.getItem(\"section\")).id\r\n                            }\r\n                        }).then(\r\n                            res =>{\r\n                                this.postListData=[]\r\n                                for(var i = 0; i < res.data.postList.length; i++){\r\n                                    this.postListData.push(res.data.postList[i])\r\n                                    this.postListData[i].creatorName = res.data.userList[i].username\r\n                                }\r\n                                // this.postListData = res.data.postList\r\n                                // this.userListData = res.data.userList\r\n                                this.total=res.data.total\r\n                            }\r\n                        )\r\n                    }\r\n                )\r\n                this.postListData.forEach(element => {\r\n                    this.request.get(\"/user/\"+element.creatorId).then(\r\n                        res => {\r\n                            element.creatorName = res.data.username\r\n                        }\r\n                    )\r\n                })\r\n            },\r\n            getResult(postName){\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    .el-header {\r\n        background-color: #333;\r\n        padding: 0;\r\n    }\r\n\r\n    .el-main {\r\n        padding-top: 0;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}