{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      tableData: []\n    };\n  },\n  methods: {\n    search: function search(searchName) {\n      var _this = this;\n\n      this.request.get(\"/post/\" + searchName).then(function (res) {\n        localStorage.setItem('section', JSON.stringify(res.data));\n\n        _this.request.get(\"/post/page\", {\n          params: {\n            // pageNum:this.pageNum,\n            // pageSize:this.pageSize,\n            sectionId: JSON.parse(localStorage.getItem(\"section\")).id\n          }\n        }).then(function (res) {\n          _this.postListData = [];\n\n          for (var i = 0; i < res.data.postList.length; i++) {\n            _this.postListData.push(res.data.postList[i]);\n\n            _this.postListData[i].creatorName = res.data.userList[i].username;\n          } // this.postListData = res.data.postList\n          // this.userListData = res.data.userList\n\n\n          _this.total = res.data.total;\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACAA,MADA,kBACA;AACA;AACAC;AADA;AAGA,GALA;AAMAC;AACAC,UADA,kBACAC,UADA,EACA;AAAA;;AACA,mDACA;AACAC;;AACA;AACAC;AACA;AACA;AACAC;AAHA;AADA,WAMAC,IANA,CAOA;AACA;;AACA;AACA;;AACA;AACA,WALA,CAMA;AACA;;;AACA;AACA,SAhBA;AAkBA,OArBA;AAsBA;AAxBA;AANA","names":["data","tableData","methods","search","searchName","localStorage","params","sectionId","then"],"sourceRoot":"views/Home","sources":["searchList.vue"],"sourcesContent":["<template>\r\n    <el-row :gutter=\"20\">\r\n        <el-col :span=\"24\">\r\n            <el-card>\r\n                <div class=\"search-box\">\r\n                <form action=\"\" @submit.prevent=\"search\">\r\n                        <input type=\"text\" v-model=\"searchText\" placeholder=\"搜索帖子名字\">\r\n                        <el-button primary icon=\"el-icon-search\" size=\"mini\" ></el-button>\r\n                    </form>\r\n                </div>\r\n                <el-table :data=\"postListData\">\r\n                    <el-table-column prop=\"postName\" label=\"帖子名字\"></el-table-column>\r\n                    <el-table-column prop=\"creatorId\" label=\"发表者\"></el-table-column>\r\n                    <el-table-column prop=\"lastTime\" label=\"最新回复时间\"></el-table-column>\r\n                    <el-table-column prop=\"clickNum\" label=\"点击量\"></el-table-column>\r\n                    <el-table-column prop=\"createTime\" label=\"创建时间\"></el-table-column>\r\n                </el-table>\r\n                <el-pagination background \r\n                    layout=\"total,prev, pager, next\" \r\n                    :page-size=\"pageSize\" \r\n                    :current-page=\"pageNum\"\r\n                    :total=\"total\">\r\n                </el-pagination>\r\n            </el-card>\r\n        </el-col>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData:[]\r\n            }\r\n        },\r\n        methods: {\r\n            search(searchName){\r\n                this.request.get(\"/post/\" + searchName).then(\r\n                    res =>{\r\n                        localStorage.setItem('section',JSON.stringify(res.data))\r\n                        this.request.get(\"/post/page\",{\r\n                            params:{\r\n                                // pageNum:this.pageNum,\r\n                                // pageSize:this.pageSize,\r\n                                sectionId:JSON.parse(localStorage.getItem(\"section\")).id\r\n                            }\r\n                        }).then(\r\n                            res =>{\r\n                                this.postListData=[]\r\n                                for(var i = 0; i < res.data.postList.length; i++){\r\n                                    this.postListData.push(res.data.postList[i])\r\n                                    this.postListData[i].creatorName = res.data.userList[i].username\r\n                                }\r\n                                // this.postListData = res.data.postList\r\n                                // this.userListData = res.data.userList\r\n                                this.total=res.data.total\r\n                            }\r\n                        )\r\n                    })\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .el-card {\r\n        height: 600px;\r\n\r\n    }\r\n\r\n    .el-col {\r\n        margin-top: 20px;\r\n    }\r\n\r\n    .el-table {\r\n        margin-top: 20px;\r\n        height: 460px;\r\n    }\r\n\r\n    .el-pagination {\r\n        text-align: center;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}