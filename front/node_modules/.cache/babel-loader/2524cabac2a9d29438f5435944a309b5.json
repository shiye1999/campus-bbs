{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      tableData: [],\n      total: 0,\n      pageNum: 1,\n      pageSize: 8,\n      section: localStorage.getItem(\"section\") ? JSON.parse(localStorage.getItem(\"section\")) : {}\n    };\n  },\n  created: function created() {\n    this.load();\n    console(this.section);\n  },\n  methods: {\n    load: function load() {\n      var _this = this;\n\n      console.log(\"name\" + this.$route.sectionName);\n      this.request.get(\"/post/page\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          sectionId: this.section.sectionId\n        }\n      }).then(function (res) {\n        console.log(res);\n        _this.tableData = res.data.records;\n        _this.total = res.data.total;\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA;AACAA,MADA,kBACA;AACA;AACAC,mBADA;AAEAC,cAFA;AAGAC,gBAHA;AAIAC,iBAJA;AAKAC;AALA;AAOA,GATA;AAUAC,SAVA,qBAUA;AACA;AACAC;AACA,GAbA;AAcAC;AACAC,QADA,kBACA;AAAA;;AACAF;AACA;AACAG;AACAP,+BADA;AAEAC,iCAFA;AAGAO;AAHA;AADA,SAMAC,IANA,CAOA;AACAL;AACA;AACA;AACA,OAXA;AAaA,KAhBA;AAiBAM,uBAjBA,+BAiBAV,OAjBA,EAiBA;AACA;AACA;AACA;AApBA;AAdA","names":["data","tableData","total","pageNum","pageSize","section","created","console","methods","load","params","sectionId","then","handleCurrentChange"],"sourceRoot":"views/Home","sources":["postList.vue"],"sourcesContent":["<template>\r\n    <el-row :gutter=\"20\">\r\n        <el-col :span=\"24\">\r\n            <el-card>\r\n                <router-link to=\"/home/upPost\">\r\n                    <el-button type=\"primary\">发表帖子</el-button>\r\n                </router-link>\r\n                <el-table :data=\"tableData\">\r\n                    <el-table-column prop=\"postName\" label=\"帖子名字\"></el-table-column>\r\n                    <el-table-column prop=\"creatorId\" label=\"发表者\"></el-table-column>\r\n                    <el-table-column prop=\"lastTime\" label=\"最新回复时间\"></el-table-column>\r\n                    <el-table-column prop=\"clickNum\" label=\"点击量\"></el-table-column>\r\n                    <el-table-column prop=\"createTime\" label=\"创建时间\"></el-table-column>\r\n                </el-table>\r\n                <el-pagination background layout=\"total,prev, pager, next\" :page-size=\"pageSize\" :current-page=\"pageNum\"\r\n                    :total=\"total\" @current-change=\"handleCurrentChange\">\r\n                </el-pagination>\r\n            </el-card>\r\n        </el-col>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                total: 0,\r\n                pageNum: 1,\r\n                pageSize: 8,\r\n                section: localStorage.getItem(\"section\") ? JSON.parse(localStorage.getItem(\"section\")) : {},\r\n            }\r\n        },\r\n        created() {\r\n            this.load()\r\n            console(this.section)\r\n        },\r\n        methods: {\r\n            load(){\r\n                console.log(\"name\"+ this.$route.sectionName)\r\n                this.request.get(\"/post/page\",{\r\n                    params:{\r\n                        pageNum:this.pageNum,\r\n                        pageSize:this.pageSize,\r\n                        sectionId:this.section.sectionId\r\n                    }\r\n                }).then(\r\n                    res =>{\r\n                        console.log(res)\r\n                        this.tableData=res.data.records\r\n                        this.total=res.data.total\r\n                    }\r\n                )\r\n            },\r\n            handleCurrentChange(pageNum) {\r\n                this.pageNum=pageNum\r\n                this.load()\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .el-card {\r\n        height: 600px;\r\n\r\n    }\r\n\r\n    .el-col {\r\n        margin-top: 20px;\r\n    }\r\n\r\n    .el-table {\r\n        margin-top: 20px;\r\n        height: 460px;\r\n    }\r\n\r\n    .el-pagination {\r\n        text-align: center;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}