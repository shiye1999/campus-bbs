{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"viewLogin\",\n  data: function data() {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      user: {},\n      loading: false,\n      pwdType: \"password\",\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 10,\n          message: '长度在 3 到 10 个字符',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 20,\n          message: '长度在 6 到 20 个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    showPwd: function showPwd() {\n      if (this.pwdType === \"password\") {\n        this.pwdType = \"\";\n      } else {\n        this.pwdType = \"password\";\n      }\n    },\n    login: function login() {\n      var _this = this;\n\n      this.$refs[\"loginForm\"].validate(function (valid) {\n        if (valid) {\n          _this.request.post(\"/user/login\", _this.user).then(function (res) {\n            console.log(res);\n\n            if (res.code === \"200\") {\n              localStorage.setItem(\"user\", JSON.stringify(res.data)); // 存储用户信息到浏览器\n\n              _this.$router.push(\"/home/notice\");\n\n              _this.$message.success(\"登陆成功\");\n            } else {\n              _this.$message.error(res.msg);\n            }\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,oBADA;AAEAC;AAFA,OADA;AAKAC,cALA;AAMAC,oBANA;AAOAC,yBAPA;AAQAC;AACAL;AACAM,wBADA;AAEAC,2BAFA;AAGAC;AAHA,WAKA;AACAC,gBADA;AAEAC,iBAFA;AAGAH,mCAHA;AAIAC;AAJA,SALA,CADA;AAaAP;AACAK,wBADA;AAEAC,0BAFA;AAGAC;AAHA,WAKA;AACAC,gBADA;AAEAC,iBAFA;AAGAH,mCAHA;AAIAC;AAJA,SALA;AAbA;AARA;AAmCA,GAtCA;AAuCAG;AACAC,WADA,qBACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAPA;AAQAC,SARA,mBAQA;AAAA;;AACA;AACA;AACA;AACAC;;AACA;AACAC,qEADA,CACA;;AACA;;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA,WATA;AAUA,SAXA,MAWA;AACAD;AACA;AACA;AACA,OAhBA;AAkBA;AA3BA;AAvCA","names":["name","data","loginForm","username","password","user","loading","pwdType","rules","required","message","trigger","min","max","methods","showPwd","login","console","localStorage"],"sourceRoot":"views/Login","sources":["login.vue"],"sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <el-card class=\"login-form-layout\">\r\n            <el-form autocomplete=\"on\" :model=\"loginForm\" ref=\"loginForm\" label-position=\"left\" :rules=\"rules\">\r\n                <h2 class=\"login-title color-main\">登 录</h2>\r\n                <el-form-item prop=\"username\">\r\n                    <el-input name=\"username\" type=\"text\" @keyup.enter.native=\"login\"\r\n                        v-model=\"loginForm.username\" autocomplete=\"on\" placeholder=\"请输入用户名\">\r\n                        <span slot=\"prefix\"></span>\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"password\">\r\n                    <el-input name=\"password\" :type=\"pwdType\" @keyup.enter.native=\"login\"\r\n                        v-model=\"loginForm.password\" autocomplete=\"on\" placeholder=\"请输入密码\">\r\n                        <span slot=\"prefix\"></span>\r\n                        <span slot=\"suffix\" @click=\"showPwd\"></span>\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item style=\"margin-bottom: 60px\">\r\n                    <el-button style=\"width: 100%\" type=\"primary\" :loading=\"loading\" @click.native.prevent=\"login\">登录\r\n                    </el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div class=\"register\">\r\n                还没有注册？<a href=\"/register\">注册</a>\r\n            </div>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"viewLogin\",\r\n        data() {\r\n            return {\r\n                loginForm: {\r\n                    username: \"\",\r\n                    password: \"\"\r\n                },\r\n                user:{},\r\n                loading: false,\r\n                pwdType: \"password\",\r\n                rules: {\r\n                    username: [{\r\n                            required: true,\r\n                            message: '请输入用户名',\r\n                            trigger: 'blur'\r\n                        },\r\n                        {\r\n                            min: 3,\r\n                            max: 10,\r\n                            message: '长度在 3 到 10 个字符',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                    password: [{\r\n                            required: true,\r\n                            message: '请输入密码',\r\n                            trigger: 'blur'\r\n                        },\r\n                        {\r\n                            min: 6,\r\n                            max: 20,\r\n                            message: '长度在 6 到 20 个字符',\r\n                            trigger: 'blur'\r\n                        }\r\n                    ],\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            showPwd() {\r\n                if (this.pwdType === \"password\") {\r\n                    this.pwdType = \"\";\r\n                } else {\r\n                    this.pwdType = \"password\";\r\n                }\r\n            },\r\n            login() {\r\n                this.$refs[\"loginForm\"].validate((valid) => {\r\n                    if (valid) {\r\n                        this.request.post(\"/user/login\", this.user).then(res => {\r\n                            console.log(res)\r\n                            if (res.code === \"200\") {\r\n                                localStorage.setItem(\"user\",JSON.stringify(res.data)) // 存储用户信息到浏览器\r\n                                this.$router.push(\"/home/notice\")\r\n                                this.$message.success(\"登陆成功\")\r\n                            } else {\r\n                                this.$message.error(res.msg)\r\n                            }\r\n                        })\r\n                    } else {\r\n                        console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                });\r\n                \r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .login-form-layout {\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        width: 360px;\r\n        margin: 140px auto;\r\n        border-top: 10px solid #409eff;\r\n    }\r\n\r\n    .login-title {\r\n        text-align: center;\r\n    }\r\n\r\n    .login-center-layout {\r\n        background: #409eff;\r\n        width: auto;\r\n        height: auto;\r\n        max-width: 100%;\r\n        max-height: 100%;\r\n        margin-top: 200px;\r\n    }\r\n\r\n    .register {\r\n        text-align: center;\r\n    }\r\n\r\n    a {\r\n        text-align: center;\r\n        text-decoration: none;\r\n    }\r\n\r\n    .wrapper {\r\n        height: 100vh;\r\n        background-image: linear-gradient(to bottom right, #FC466B, #3F5EF8);\r\n        overflow: hidden;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}