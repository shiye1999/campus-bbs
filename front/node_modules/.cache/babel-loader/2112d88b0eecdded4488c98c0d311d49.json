{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      tableData: [],\n      total: 0,\n      pageNum: 1\n    };\n  },\n  created: function created() {\n    load();\n  },\n  load: function load(pageNum) {\n    var _this = this;\n\n    //请求分页查询数据\n    fetch(\"http://localhost:8081/user/page?pageNum=\" + this.pageNum + \"&pageSize=8\").then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      console.log(res);\n      _this.tableData = res.data;\n      _this.total = res.total;\n    });\n  },\n  methods: {\n    handleCurrentChange: function handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      load();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACAA,MADA,kBACA;AACA;AACAC,mBADA;AAEAC,cAFA;AAGAC;AAHA;AAKA,GAPA;AAQAC,SARA,qBAQA;AACAC;AACA,GAVA;AAWAA,MAXA,gBAWAF,OAXA,EAWA;AAAA;;AACA;AACAG,qFACAC,IADA,CACA;AAAA;AAAA,KADA,EACAA,IADA,CACA;AACAC;AACA;AACA;AACA,KALA;AAMA,GAnBA;AAoBAC;AACAC,uBADA,+BACAP,OADA,EACA;AACA;AACAE;AACA;AAJA;AApBA","names":["data","tableData","total","pageNum","created","load","fetch","then","console","methods","handleCurrentChange"],"sourceRoot":"views/Home","sources":["postList.vue"],"sourcesContent":["<template>\r\n    <el-row :gutter=\"20\">\r\n        <el-col :span=\"24\">\r\n            <el-card>\r\n                <router-link to=\"/home/upPost\">\r\n                    <el-button type=\"primary\">发表帖子</el-button>\r\n                </router-link>\r\n                <el-table :data=\"tableData\">\r\n                    <el-table-column prop=\"schoolNumber\" label=\"学号\"></el-table-column>\r\n                    <el-table-column prop=\"username\" label=\"名字\"></el-table-column>\r\n                    <el-table-column prop=\"createTime\" label=\"创建时间\"></el-table-column>\r\n                </el-table>\r\n                <el-pagination background layout=\"total,prev, pager, next\" page-size=\"8\" :current-page=\"pageNum\"\r\n                    :total=\"total\" @current-change=\"handleCurrentChange\">\r\n                </el-pagination>\r\n            </el-card>\r\n        </el-col>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                tableData: [],\r\n                total: 0,\r\n                pageNum: 1,\r\n            }\r\n        },\r\n        created() {\r\n            load()\r\n        },\r\n        load(pageNum,){\r\n            //请求分页查询数据\r\n            fetch(\"http://localhost:8081/user/page?pageNum=\"+this.pageNum+\"&pageSize=8\")\r\n                .then(res => res.json()).then(res => {\r\n                    console.log(res)\r\n                    this.tableData = res.data\r\n                    this.total = res.total\r\n                })\r\n        },\r\n        methods: {\r\n            handleCurrentChange(pageNum) {\r\n                this.pageNum=pageNum\r\n                load()\r\n            },\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .el-card {\r\n        height: 600px;\r\n\r\n    }\r\n\r\n    .el-col {\r\n        margin-top: 20px;\r\n    }\r\n\r\n    .el-table {\r\n        margin-top: 20px;\r\n        height: 460px;\r\n    }\r\n\r\n    .el-pagination {\r\n        text-align: center;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}