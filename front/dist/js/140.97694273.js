"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[140],{7140:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("el-card",{staticClass:"login-form-layout"},[r("el-form",{ref:"loginForm",attrs:{autocomplete:"on",model:e.loginForm,"label-position":"left",rules:e.rules}},[r("h2",{staticClass:"login-title color-main"},[e._v("登 录")]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{name:"username",type:"text",autocomplete:"on",placeholder:"请输入用户名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[r("span",{attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{name:"password",type:e.pwdType,autocomplete:"on",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[r("span",{attrs:{slot:"prefix"},slot:"prefix"}),r("span",{attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"})])],1),r("el-form-item",{staticStyle:{"margin-bottom":"60px"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[e._v("登录 ")])],1)],1),r("div",{staticClass:"register"},[e._v(" 还没有注册？"),r("a",{attrs:{href:"/register"}},[e._v("注册")])])],1)],1)},o=[],l={name:"viewLogin",data(){return{loginForm:{username:"",password:""},loading:!1,pwdType:"password",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]}}},methods:{showPwd(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},login(){this.$refs["loginForm"].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.request.post("/user/login",this.loginForm).then((e=>{console.log(e),"200"===e.code?(localStorage.setItem("user",JSON.stringify(e.data)),this.$router.push("/home/notice"),this.$message.success("登陆成功")):this.$message.error(e.msg)}))}))}}},n=l,a=r(5471),i=(0,a.Z)(n,s,o,!1,null,"f172e800",null),p=i.exports}}]);
//# sourceMappingURL=140.97694273.js.map